{{ $pages := ((where .Site.Pages "Section" .Section).ByWeight).ByParam "title" }}
{{ $scratch := newScratch }}

{{/* Loop through section pages to get tags and add to variable */}}
{{ range $pages }}
	{{ range .Params.products }}
		{{ $scratch.Add "prodVar" (slice .) }}
	{{ end }}
{{ end }}

{{/* Loop through new var to print unique section tags */}}

{{ range sort ($scratch.Get "prodVar") | uniq }}
	<li class="filter" filter="{{ . | lower | urlize }}">{{ . }}</li>
{{ end }}